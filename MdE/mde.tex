\input{../entete}

\newcommand{\InputEM}[1]{
    \def \EMLabel {#1}
    \input{partials/#1}
}

\newenvironment{EM}[1]{
    \section{#1}
    \def \EMName {#1}
    \label{sec:\EMLabel}
    \begin{figure}[H]
        \centering
        \includegraphics[width=\textwidth]{images/\EMLabel}
        \caption{Schéma du modèle de l'environnement "#1"}
    \end{figure}
}{
}

\newcommand{\EMActor}[2]{
    \subsection{#1} #2
}

\newenvironment{EMUCActor}[1]{
    ~\\

    \textbf{Acteur du CdU : #1}
    \begin{itemize}
}{
    \end{itemize}
}

\newcommand{\EMOperation}[3]{
    \item $#1$ : #2 \\
    CdU concerné : \textit{\ifx&#3&aucun\else#3\fi}
}

\begin{document}

\Document{Modèles de l'environnement}

\InputEM{balance}
\InputEM{drone}
\InputEM{receptacle}
\InputEM{ronde}
\InputEM{web}

\end{document}
